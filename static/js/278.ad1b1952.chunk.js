"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[278],{504:function(n,e,t){t.d(e,{O:function(){return k}});var r=t(861),a=t(439),c=t(757),i=t.n(c),o=t(791),s=t(243),u=t(87),d=t(689),f=t(184),p=function(n){var e=n.id,t=n.title,r=n.poster,c=(0,d.TH)(),i=(0,o.useState)(!1),s=(0,a.Z)(i,2),p=s[0],m=s[1];return(0,f.jsxs)("li",{children:[(0,f.jsx)("img",{src:r,width:"200",alt:"",onLoad:function(){return m(!0)}}),!p&&(0,f.jsx)("p",{children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u0454\u0442\u044c\u0441\u044f \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f"}),(0,f.jsx)("p",{children:t}),(0,f.jsx)(u.rU,{to:c.pathname.includes("movies")?"".concat(e):"movies/".concat(e),state:{from:c},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u0438\u0446\u0456 \u0444\u0456\u043b\u044c\u043c\u0443"})]})},m=function(){return(0,f.jsx)("div",{children:"\u0423\u043f\u0441, \u043d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \ud83d\ude30"})},l=function(){return(0,f.jsx)("div",{children:"\u041d\u0456\u0447\u043e\u0433\u043e \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e \ud83d\ude48"})},x=t(634),h=function(){var n=(0,r.Z)(i().mark((function n(e,t,r,a){var c,o,s,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==e){n.next=6;break}return n.next=3,(0,x.s2)(t);case 3:n.t0=n.sent,n.next=9;break;case 6:return n.next=8,(0,x.uR)(e,t);case 8:n.t0=n.sent;case 9:return c=n.t0,o=c.results,s=c.total_pages,n.next=14,new Promise((function(n){return setTimeout(n,500)}));case 14:u=o.map((function(n){var e=n.id,t=n.title,r=n.poster_path;return{id:e,title:t,poster:(0,x.IU)(r)}})),r(s),a(u);case 17:case"end":return n.stop()}}),n)})));return function(e,t,r,a){return n.apply(this,arguments)}}(),b=t(704),v=(b.OG.IDLE,b.OG.PENDING),g=b.OG.RESOLVED,w=b.OG.REJECTED,k=function(n){var e=n.query,t=n.movies,c=n.page,u=n.addItems,d=n.incrementPage,x=n.status,b=n.setStatus,k=(0,o.useState)(0),Z=(0,a.Z)(k,2),j=Z[0],z=Z[1];return(0,o.useEffect)((function(){if(""!==e&&null!==e){var n=s.Z.CancelToken.source();return(0,r.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,b(v),n.next=4,h(e,c,z,u);case 4:b(g),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),b(w);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))(),function(){n.cancel()}}}),[e,c]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("ul",{children:[t.map((function(n){var e=n.id,t=n.title,r=n.poster;return(0,f.jsx)(p,{id:e,title:t,poster:r},e)})),0===t.length&&x===g&&(0,f.jsx)(l,{})]}),c<j&&x!==v&&(0,f.jsx)("button",{onClick:d,children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0438\u0442\u0438 \u0449\u0435 ..."}),x===v&&(0,f.jsx)("p",{children:"\u0417\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0443\u044e\u0442\u044c\u0441\u044f \u0444\u0456\u043b\u044c\u043c\u0438 ..."}),x===w&&(0,f.jsx)(m,{})]})}},704:function(n,e,t){t.d(e,{OG:function(){return c}});var r=Object.freeze({mobile:"320px",tablet:"760px",desktop:"1200px"}),a=(Object.freeze({txtBlack:"#000",txtWhite:"#fff",txtGrey:"#696969",accent:"#3f51b5",border:"#696969",black:"#000",white:"#fff",generalBackground:"#e7ecf2",isOnlineGreen:"green",isOnlineRed:"red"}),Object.freeze({sm:{mob:14,tabl:16,desk:19},md:{mob:24,tabl:27,desk:30},lg:{mob:37,tabl:40,desk:45},xl:{mob:52,tabl:56,desk:60}})),c=(Object.freeze({sm:"\n    @media screen and (min-width: ".concat(r.mobile,") {\n      font-size: ").concat(a.sm.mob,"px;\n    }\n\n    @media screen and (min-width: ").concat(r.tablet,") {\n      font-size: ").concat(a.sm.tabl,"px;\n    }\n\n    @media screen and (min-width: ").concat(r.desktop,") {\n      font-size: ").concat(a.sm.desk,"px;\n    }\n  "),md:"\n  @media screen and (min-width: ".concat(r.mobile,") {\n  font-size: ").concat(a.md.mob,"px;\n  }\n\n  @media screen and (min-width: ").concat(r.tablet,") {\n    font-size: ").concat(a.md.tabl,"px;\n  }\n\n  @media screen and (min-width: ").concat(r.desktop,") {\n    font-size: ").concat(a.md.desk,"px;\n  }\n  "),lg:"\n    @media screen and (min-width: ".concat(r.mobile,") {\n      font-size: ").concat(a.lg.mob,"px;\n    }\n\n    @media screen and (min-width: ").concat(r.tablet,") {\n      font-size: ").concat(a.lg.tabl,"px;\n    }\n\n    @media screen and (min-width: ").concat(r.desktop,") {\n      font-size: ").concat(a.lg.desk,"px;\n    }\n  "),xl:"\n    @media screen and (min-width: ".concat(r.mobile,") {\n      font-size: ").concat(a.xl.mob,"px;\n    }\n\n    @media screen and (min-width: ").concat(r.tablet,") {\n      font-size: ").concat(a.xl.tabl,"px;\n    }\n\n    @media screen and (min-width: ").concat(r.desktop,") {\n      font-size: ").concat(a.xl.desk,"px;\n    }\n  ")}),Object.freeze({animation:"250ms cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px",defaultProfImg:"https://w7.pngwing.com/pngs/178/595/png-transparent-user-profile-computer-icons-login-user-avatars-thumbnail.png",borderRadius:10,border:"1px solid #696969",defBoxSize:{tabl:300,desk:500},iconSize:20}),Object.freeze({IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}))},330:function(n,e,t){t.d(e,{Kx:function(){return o},qt:function(){return c}});var r=t(791),a=t(439),c=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=(0,r.useState)(n),t=(0,a.Z)(e,2),c=t[0],i=t[1],o=function(){return i(n)},s=function(){return i((function(n){return n+1}))};return[c,o,s]},i=t(433),o=function(){var n=(0,r.useState)([]),e=(0,a.Z)(n,2),t=e[0],c=e[1];return[t,function(){return c([])},function(n){return c((function(e){return[].concat((0,i.Z)(e),(0,i.Z)(n))}))}]}},278:function(n,e,t){t.r(e),t.d(e,{Movies:function(){return p}});var r=t(439),a=t(791),c=t(87),i=t(504),o=t(704),s=t(330),u=t(184),d=o.OG.IDLE,f=o.OG.PENDING,p=function(){var n=(0,s.Kx)(),e=(0,r.Z)(n,3),t=e[0],o=e[1],p=e[2],m=(0,s.qt)(),l=(0,r.Z)(m,3),x=l[0],h=l[1],b=l[2],v=(0,a.useState)(d),g=(0,r.Z)(v,2),w=g[0],k=g[1],Z=(0,c.lr)(),j=(0,r.Z)(Z,2),z=j[0],y=j[1];return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:(0,u.jsxs)("form",{autoComplete:"off",onSubmit:function(n){n.preventDefault();var e=n.currentTarget.elements.query.value.trim();""!==e&&z.get("query")!==e&&(h(),o(),y({query:e}))},children:[(0,u.jsx)("input",{name:"query",type:"text"}),(0,u.jsx)("button",{type:"submit",disabled:w===f,children:"\u0417\u043d\u0430\u0439\u0442\u0438"})]})}),(0,u.jsx)(i.O,{query:z.get("query"),movies:t,addItems:p,page:x,incrementPage:b,status:w,setStatus:k})]})}},634:function(n,e,t){t.d(e,{uR:function(){return d},d6:function(){return p},s_:function(){return f},IU:function(){return l},s2:function(){return u},CE:function(){return m}});var r=t(683),a=t(861),c=t(757),i=t.n(c),o=t(243);o.Z.defaults.baseURL="https://api.themoviedb.org/3";var s={api_key:"8741a9c14c2465a0e7b18901e07e7ee9"},u=function(){var n=(0,a.Z)(i().mark((function n(e){var t,a,c,u,d=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=d.length>1&&void 0!==d[1]?d[1]:null,a=new URLSearchParams((0,r.Z)((0,r.Z)({},s),{},{page:e})),n.next=4,o.Z.get("/trending/movie/day?".concat(a),{cancelToken:t});case 4:return c=n.sent,u=c.data,n.abrupt("return",u);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,a.Z)(i().mark((function n(e,t){var a,c,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new URLSearchParams((0,r.Z)((0,r.Z)({},s),{},{query:e,page:t})),n.next=3,o.Z.get("/search/movie?".concat(a));case 3:return c=n.sent,u=c.data,n.abrupt("return",u);case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),f=function(){var n=(0,a.Z)(i().mark((function n(e){var t,a,c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=new URLSearchParams((0,r.Z)({},s)),n.next=3,o.Z.get("/movie/".concat(e,"?").concat(t));case 3:return a=n.sent,c=a.data,n.abrupt("return",c);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,a.Z)(i().mark((function n(e){var t,a,c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=new URLSearchParams((0,r.Z)({},s)),n.next=3,o.Z.get("/movie/".concat(e,"/credits?").concat(t));case 3:return a=n.sent,c=a.data,n.abrupt("return",c);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),m=function(){var n=(0,a.Z)(i().mark((function n(e){var t,a,c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=new URLSearchParams((0,r.Z)({},s)),n.next=3,o.Z.get("/movie/".concat(e,"/reviews?").concat(t));case 3:return a=n.sent,c=a.data,n.abrupt("return",c);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(n){return n?"https://image.tmdb.org/t/p/w500".concat(n):"default"}}}]);
//# sourceMappingURL=278.ad1b1952.chunk.js.map